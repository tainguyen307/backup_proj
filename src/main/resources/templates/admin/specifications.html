<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/layout}">
<head>
<title>Quản Lý Thông Số Kỹ Thuật - WomTech Admin</title>
<link rel="stylesheet" href="/css/admin/specifications.css">

</head>
<body>
	<h1 layout:fragment="page-title">Quản Lý Thông Số Kỹ Thuật</h1>

	<div layout:fragment="content">
		<div class="alert alert-info">
			<i class="fas fa-info-circle me-2"></i> <strong>Lưu ý:</strong> Thông
			số kỹ thuật được quản lý theo từng sản phẩm. Vui lòng chọn sản phẩm
			bên dưới để xem/thêm/sửa thông số kỹ thuật.
		</div>

		<div class="admin-table mb-4">
			<div class="table-header">
				<h5 class="mb-0">
					<i class="fas fa-box-open me-2"></i> Chọn Sản Phẩm
				</h5>
			</div>
			<div class="p-4">
				<div class="row">
					<div class="col-md-6">
						<label for="productSelector" class="form-label small text-muted">Sản
							phẩm</label> <select id="productSelector" class="form-select">
							<option value="" selected>--- Chọn một sản phẩm ---</option>
							<option th:each="product : ${products}"
								th:value="${product.productID}" th:text="${product.name}">Tên
								sản phẩm</option>
						</select>
					</div>
					<div class="col-md-6 d-flex align-items-end">
						<button id="viewSpecsBtn" class="btn btn-sm btn-outline-success">
							<i class="fas fa-box"></i> Xem Thông Số Kỹ Thuật
						</button>
					</div>
				</div>
			</div>
		</div>

		<div class="admin-table">
			<div
				class="table-header d-flex justify-content-between align-items-center">
				<h5 class="mb-0">
					<i class="fas fa-clipboard-list me-2"></i> Tất Cả Thông Số Kỹ Thuật
					(Tổng quan)
				</h5>
			</div>

			<div class="table-responsive">
				<table class="table mb-0">
					<thead>
						<tr>
							<th>ID</th>
							<th>Sản Phẩm</th>
							<th>Tên Thông Số</th>
							<th>Giá Trị</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="spec : ${specifications}">
							<td><code
									th:text="${#strings.abbreviate(spec.specificationID, 12)}">ID</code>
							</td>
							<td><strong th:text="${spec.product.name}">Product
									Name</strong></td>
							<td><span class="badge bg-primary" th:text="${spec.name}">Name</span>
							</td>
							<td th:text="${spec.value}">Value</td>
						</tr>
						<tr th:if="${specifications.empty}">
							<td colspan="5" class="text-center py-5"><i
								class="fas fa-clipboard-list fa-3x text-muted mb-3"></i>
								<p class="text-muted">Chưa có thông số kỹ thuật nào.</p>
								<p class="text-muted">Sử dụng tính năng **Chọn Sản Phẩm** ở
									trên để thêm thông số kỹ thuật.</p></td>
						</tr>
					</tbody>
				</table>
			</div>

		</div>
		<div
			th:replace="~{admin/fragments/pagination :: pagination(${page}, '/admin/specifications')}"></div>
			<script>
  document.getElementById("viewSpecsBtn").addEventListener("click", function() {
    const select = document.getElementById("productSelector");
    const productId = select.value;
    if (productId) {
      window.location.href = `/admin/specifications/product/${productId}`;
    } else {
      alert("Vui lòng chọn sản phẩm trước khi xem thông số kỹ thuật!");
    }
  });
</script>
			
	</div>

</body>
</html>