<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
<meta charset="UTF-8">
<title>Đăng ký Shop - OTP</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
body {
	font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial,
		sans-serif;
	background: #f7f7f8;
	margin: 0;
}

.wrap {
	max-width: 560px;
	margin: 48px auto;
	background: #fff;
	border: 1px solid #eee;
	border-radius: 12px;
	padding: 24px
}

h1 {
	font-size: 20px;
	margin: 0 0 12px
}

p {
	margin: 0 0 12px;
	color: #555
}

.row {
	margin: 16px 0
}

.btn {
	display: inline-block;
	padding: 10px 14px;
	border-radius: 8px;
	border: 1px solid #ddd;
	background: #0d6efd;
	color: #fff;
	text-decoration: none
}

.btn-outline {
	background: #fff;
	color: #333
}

.input {
	width: 100%;
	padding: 10px 12px;
	border: 1px solid #ccc;
	border-radius: 8px;
	font-size: 16px
}

.muted {
	color: #777;
	font-size: 14px
}

.alert {
	padding: 10px 12px;
	border-radius: 8px;
	margin: 12px 0
}

.alert-success {
	background: #e7f5ee;
	border: 1px solid #b7e1cb;
	color: #0a6b3c
}

.alert-error {
	background: #fdecea;
	border: 1px solid #f5c2c0;
	color: #842029
}

.actions {
	display: flex;
	gap: 12px;
	flex-wrap: wrap
}
</style>
</head>
<body>
	<div class="wrap">
		<h1>Xác thực OTP để đăng ký Shop</h1>

		<!-- Flash messages -->
		<div th:if="${success}" class="alert alert-success"
			th:text="${success}"></div>
		<div th:if="${error}" class="alert alert-error" th:text="${error}"></div>

		<p>
			Mã OTP đã gửi tới <strong th:text="${maskedEmail}">email***@domain</strong>.
		</p>
		<p class="muted">
			Mã có hiệu lực trong <span th:text="${ttlSeconds}">600</span> giây.
		</p>

		<!-- Form xác nhận OTP -->
		<form th:action="@{/vendor-register}" method="post" class="row"
			autocomplete="one-time-code">
			<label for="otp" class="muted">Nhập mã OTP (6 chữ số):</label> <input
				id="otp" name="otp" class="input" type="text" maxlength="6"
				pattern="[0-9]{6}" inputmode="numeric" required />
			<div class="actions">
				<button type="submit" class="btn">Xác nhận &amp; trở thành
					Vendor</button>
				<a th:href="@{/}" class="btn btn-outline">Hủy</a>
			</div>
		</form>

		<!-- Form gửi lại OTP -->
		<form th:action="@{/vendor-register/resend}" method="post" class="row">
			<button type="submit" class="btn btn-outline">Gửi lại OTP</button>
			<span class="muted">Chờ <span th:text="${cooldown}">60</span>
				giây giữa các lần gửi.
			</span>
		</form>
	</div>

	<script>document.getElementById('otp')?.focus();</script>
</body>
</html>
